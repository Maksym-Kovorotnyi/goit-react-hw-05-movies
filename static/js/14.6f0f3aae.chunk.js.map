{"version":3,"file":"static/js/14.6f0f3aae.chunk.js","mappings":"4PACA,EAAuB,wBAAvB,EAAuD,yBAAvD,EAA0F,2BAA1F,EAA4H,wBAA5H,EAA2J,wB,SCI9IA,EAAY,WACrB,IAAMC,GAAWC,EAAAA,EAAAA,MACjB,GAA8BC,EAAAA,EAAAA,WAAS,GAAvC,eAAOC,EAAP,KAAiBC,EAAjB,KACA,GAA4BF,EAAAA,EAAAA,UAAS,IAArC,eAAOG,EAAP,KAAeC,EAAf,KACA,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KACMC,EAAQF,EAAaG,IAAI,UAE/BC,EAAAA,EAAAA,YAAU,WACNR,GAAU,EAEb,GAAE,KAEHQ,EAAAA,EAAAA,YAAU,WACN,IAAiB,IAAbT,EACA,IACG,IAAMU,EAAgB,mCAAG,qGACKC,EAAAA,EAAAA,IAAWJ,GADhB,OAClBK,EADkB,OAExBT,EAAUS,GACTX,GAAU,GAHa,2CAAH,qDAMzBS,GAGC,CAFC,MAAOG,GACLC,QAAQC,IAAI,QACf,CAGR,GAAE,CAACR,EAAOP,IAWX,OADDc,QAAQC,IAAIb,IAEP,iCACI,kBACIc,UAAWC,EACXC,SATS,SAACC,GAClBA,EAAEC,iBACFnB,GAAU,EACb,EAIO,WAGI,kBACIe,UAAWC,EACXI,SAjBS,SAACF,GACvBb,EAAgB,CAAEC,MAAOY,EAAEG,OAAOC,OAEpC,EAc2CC,KAAK,UACrC,mBACIR,UAAWC,EACXO,KAAK,SAFT,wBAIJ,eACAR,UAAWC,EADX,SAGKf,EAAOuB,KAAI,SAAAC,GACR,OAAO,eACHV,UAAWC,EADR,UAEY,SAAC,KAAD,CACfU,GAAE,kBAAaD,EAAME,GAAGC,YACxBC,MAAO,CAAEC,KAAMlC,GAFA,SAGjB6B,EAAMM,SAHCN,EAAME,GAIlB,QAKhB,EC5DD,EARmB,WACf,OACI,+BACI,SAAChC,EAAD,KAGX,C,wMCLKqC,EAAS,mCACfC,EAAAA,EAAAA,SAAAA,QAAyB,gCAElB,IAAMC,EAAW,mCAAG,6GAEGD,EAAAA,EAAAA,IAAA,qCAAwCD,IAF3C,cAEbG,EAFa,yBAGZA,EAAQC,KAAKC,SAHD,iCAMpBC,EAAAA,EAAAA,IAAM,oBANc,yDAAH,qDAUX5B,EAAU,mCAAG,WAAOJ,GAAP,gGAEI2B,EAAAA,EAAAA,IAAA,+BAAkCD,EAAlC,kBAAkD1B,IAFtD,cAEZ6B,EAFY,yBAGXA,EAAQC,KAAKC,SAHF,iCAKnBC,EAAAA,EAAAA,IAAM,oBALa,yDAAH,sDASVC,EAAgB,mCAAG,WAAOZ,GAAP,gGAEFM,EAAAA,EAAAA,IAAA,gBAAmBN,EAAnB,oBAAiCK,IAF/B,cAElBG,EAFkB,yBAGjBA,EAAQC,MAHS,iCAKzBE,EAAAA,EAAAA,IAAM,oBALmB,yDAAH,sDAShBE,EAAO,mCAAG,WAAOb,GAAP,gGAEOM,EAAAA,EAAAA,IAAA,iBAAoBN,EAApB,4BAA0CK,IAFjD,cAETG,EAFS,yBAGRA,EAAQC,KAAKK,MAHL,wFAAH,sDASPC,EAAU,mCAAG,WAAOf,GAAP,gGAEKM,EAAAA,EAAAA,IAAA,iBAAoBN,EAApB,4BAA0CK,IAF/C,cAEZW,EAFY,yBAGXA,EAASP,KAAKC,SAHH,iCAKnBC,EAAAA,EAAAA,IAAM,oBALa,yDAAH,qD","sources":["webpack://react-homework-template/./src/components/SearchBar/SearchBar.module.css?35a0","components/SearchBar/SearchBar.jsx","Pages/MoviesPage.jsx","components/Service/API.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"form\":\"SearchBar_form__gW7Gj\",\"input\":\"SearchBar_input__bIy50\",\"formBtn\":\"SearchBar_formBtn__Z+YNJ\",\"list\":\"SearchBar_list__eXPLO\",\"item\":\"SearchBar_item__plclD\"};","import { getByQuery } from \"components/Service/API\";\nimport { useEffect, useState } from \"react\"\nimport { Link, useLocation, useSearchParams } from \"react-router-dom\";\nimport css from './SearchBar.module.css'\n\nexport const SearchBar = () => {\n    const location = useLocation()\n    const [submited, setSubmit] = useState(false);\n    const [movies, setMovies] = useState([]);\n    const [searchParams, setSearchParams] = useSearchParams();\n    const query = searchParams.get('query')\n    \n    useEffect(() => {\n        setSubmit(true)\n       \n    }, [])\n\n    useEffect(() => {\n        if (submited === true) {\n            try {\n               const getMoviesByQuery = async () => {\n                const searchedMovies = await getByQuery(query)\n                setMovies(searchedMovies) \n                 setSubmit(false)\n            }\n         \n            getMoviesByQuery() \n            } catch (error) {\n                console.log('error');\n            }\n            \n        }\n    }, [query, submited])\n    const handleInputValue = (e) => {\n       setSearchParams({ query: e.target.value })\n       \n    }\n\n    const handleSubmit = (e) => {\n        e.preventDefault()\n        setSubmit(true)\n    }\n   console.log(movies);\n    return (\n        <>\n            <form\n                className={css.form}\n                onSubmit={handleSubmit}>\n                <input\n                    className={css.input}\n                    onChange={handleInputValue} type=\"text\" />\n                <button\n                    className={css.formBtn}\n                    type=\"submit\">Search</button>\n            </form>\n            <ul\n            className={css.list}\n            >\n                {movies.map(movie => {\n                    return <li\n                        className={css.item}\n                        key={movie.id}><Link\n                        to={`/movies/${movie.id.toString()}`}\n                        state={{ from: location }}\n                    >{movie.title}</Link></li>\n                })}\n            </ul>\n        </>\n    )\n\n}","import { SearchBar } from \"components/SearchBar/SearchBar\"\n\nconst MoviesPage = () => {\n    return (\n        <>\n            <SearchBar/>\n        </>\n    )\n}\n\nexport default MoviesPage","import axios from \"axios\";\nimport { toast } from \"react-toastify\";\n\nconst MY_KEY = \"5d690f0bfcc9395ff58e80bfc32ac0d9\"\naxios.defaults.baseURL = 'https://api.themoviedb.org/3/';\n\nexport const getTrending = async () => {\n    try {\n        const promise = await axios.get(`trending/movie/day?api_key=${MY_KEY}`)\n        return promise.data.results;\n        \n    } catch (error) {\n       toast('Movies not found')\n    }\n}\n\nexport const getByQuery = async (query) => {\n    try {\n        const promise = await axios.get(`search/movie?api_key=${MY_KEY}&query=${query}`)\n        return promise.data.results;\n    } catch (error) {\n       toast('Movies not found') \n    }\n}\n\nexport const getMovieFullInfo = async (id)=> {\n    try {\n        const promise = await axios.get(`movie/${id}?api_key=${MY_KEY}`)\n        return promise.data\n    } catch (error) {\n       toast('Movies not found')  \n    }\n}\n\nexport const getCast = async (id) => {\n    try {\n        const promise = await axios.get(`/movie/${id}/credits?api_key=${MY_KEY}`)\n        return promise.data.cast;\n    } catch (error) {\n         \n    }\n}\n\nexport const getReviews = async (id) => {\n    try {\n        const response = await axios.get(`/movie/${id}/reviews?api_key=${MY_KEY}`);\n        return response.data.results;  \n    } catch (error) {\n       toast('Movies not found')  \n    }\n \n}\n"],"names":["SearchBar","location","useLocation","useState","submited","setSubmit","movies","setMovies","useSearchParams","searchParams","setSearchParams","query","get","useEffect","getMoviesByQuery","getByQuery","searchedMovies","error","console","log","className","css","onSubmit","e","preventDefault","onChange","target","value","type","map","movie","to","id","toString","state","from","title","MY_KEY","axios","getTrending","promise","data","results","toast","getMovieFullInfo","getCast","cast","getReviews","response"],"sourceRoot":""}